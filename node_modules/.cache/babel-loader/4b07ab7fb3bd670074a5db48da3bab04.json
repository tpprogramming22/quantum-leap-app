{"ast":null,"code":"var _jsxFileName = \"/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/src/pages/apps/Calendar/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { Button, Card, Col, Row } from 'react-bootstrap';\nimport '@fullcalendar/react';\nimport { Draggable } from '@fullcalendar/interaction';\nimport classNames from 'classnames'; // hooks\n\nimport { usePageTitle } from '../../../hooks'; // component\n\nimport Calendar from './Calendar';\nimport AddEditEvent from './AddEditEvent'; // dummy data\n\nimport { defaultEvents } from './data';\nimport { FormInput } from '../../../components/form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SidePanel = () => {\n  // external events\n  const externalEvents = [{\n    id: 1,\n    className: 'bg-primary',\n    title: 'New Theme Release'\n  }, {\n    id: 2,\n    className: 'bg-pink',\n    title: 'My Event'\n  }, {\n    id: 3,\n    className: 'bg-warning',\n    title: 'Meet manager'\n  }, {\n    id: 4,\n    className: 'bg-purple',\n    title: 'Create New theme'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"external-events\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted\",\n        children: \"Drag and drop your event or click in the calendar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), (externalEvents || []).map((event, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('external-event', event.className),\n          title: event.title,\n          \"data-class\": event.className,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"mdi mdi-checkbox-blank-circle me-2 vertical-middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), event.title]\n        }, index.toString(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n      type: \"checkbox\",\n      name: \"checkbox\",\n      label: \"Remove after drop\",\n      className: \"my-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = SidePanel;\n\nconst CalendarApp = () => {\n  _s();\n\n  // set pagetitle\n  usePageTitle({\n    title: 'Calendar',\n    breadCrumbItems: [{\n      path: '/apps/calendar',\n      label: 'Apps'\n    }, {\n      path: '/apps/calendar',\n      label: 'Calendar',\n      active: true\n    }]\n  }); // modal handling\n\n  const [show, setShow] = useState(false);\n\n  const onCloseModal = () => {\n    setShow(false);\n    setEventData({});\n    setDateInfo({});\n  };\n\n  const onOpenModal = () => setShow(true);\n\n  const [isEditable, setIsEditable] = useState(false); // event data\n\n  const [events, setEvents] = useState([...defaultEvents]);\n  const [eventData, setEventData] = useState({});\n  const [dateInfo, setDateInfo] = useState({});\n  useEffect(() => {\n    // create dragable events\n    let draggableEl = document.getElementById('external-events');\n    new Draggable(draggableEl, {\n      itemSelector: '.external-event'\n    });\n  }, []); // calendar events\n  // on date click\n\n  const onDateClick = arg => {\n    setDateInfo(arg);\n    onOpenModal();\n    setIsEditable(false);\n  }; // on event click\n\n\n  const onEventClick = arg => {\n    const event = {\n      id: String(arg.event.id),\n      title: arg.event.title,\n      className: arg.event.classNames[0]\n    };\n    setEventData(event);\n    setIsEditable(true);\n    onOpenModal();\n  }; // on drop\n\n\n  const onDrop = arg => {\n    const dropEventData = arg;\n    const title = dropEventData.draggedEl.title;\n\n    if (title == null) {} else {\n      let newEvent = {\n        id: String(events.length + 1),\n        title: title,\n        start: dropEventData ? dropEventData.dateStr : new Date(),\n        className: dropEventData.draggedEl.attributes['data-class']['value']\n      };\n      const modifiedEvents = [...events];\n      modifiedEvents.push(newEvent);\n      setEvents(modifiedEvents);\n    }\n  }; // on add event\n\n\n  const onAddEvent = data => {\n    const modifiedEvents = [...events];\n    const event = {\n      id: String(modifiedEvents.length + 1),\n      title: data.title,\n      start: Object.keys(dateInfo).length !== 0 ? dateInfo.date : new Date(),\n      className: data.className\n    };\n    modifiedEvents.push(event);\n    setEvents(modifiedEvents);\n    onCloseModal();\n  }; // on update event\n\n\n  const onUpdateEvent = data => {\n    const modifiedEvents = [...events];\n    const idx = modifiedEvents.findIndex(e => e['id'] === eventData.id);\n    modifiedEvents[idx]['title'] = data.title;\n    modifiedEvents[idx]['className'] = data.className;\n    setEvents(modifiedEvents);\n    onCloseModal();\n    setIsEditable(false);\n  }; // on remove event\n\n\n  const onRemoveEvent = () => {\n    var modifiedEvents = [...events];\n    const idx = modifiedEvents.findIndex(e => e['id'] === eventData.id);\n    modifiedEvents.splice(idx, 1);\n    setEvents(modifiedEvents);\n    onCloseModal();\n  };\n  /**\n   * on event drop\n   */\n\n\n  const onEventDrop = arg => {\n    const modifiedEvents = [...events];\n    const idx = modifiedEvents.findIndex(e => e['id'] === arg.event.id);\n    modifiedEvents[idx]['title'] = arg.event.title;\n    modifiedEvents[idx]['className'] = arg.event.classNames;\n    modifiedEvents[idx]['start'] = arg.event.start;\n    modifiedEvents[idx]['end'] = arg.event.end;\n    setEvents(modifiedEvents);\n    setIsEditable(false);\n  }; // create new event\n\n\n  const createNewEvent = () => {\n    setIsEditable(false);\n    onOpenModal();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: 3,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-lg font-16 btn-success w-100\",\n          id: \"btn-new-event\",\n          onClick: createNewEvent,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-plus me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this), \" Create New\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SidePanel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: 9,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Calendar, {\n              onDateClick: onDateClick,\n              onEventClick: onEventClick,\n              onDrop: onDrop,\n              events: events,\n              onEventDrop: onEventDrop\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this), show ? /*#__PURE__*/_jsxDEV(AddEditEvent, {\n      isOpen: show,\n      onClose: onCloseModal,\n      isEditable: isEditable,\n      eventData: eventData,\n      onUpdateEvent: onUpdateEvent,\n      onRemoveEvent: onRemoveEvent,\n      onAddEvent: onAddEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true);\n};\n\n_s(CalendarApp, \"DizOfHnS8jfqJRo6kln0Z24t4CM=\", false, function () {\n  return [usePageTitle];\n});\n\n_c2 = CalendarApp;\nexport default CalendarApp;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SidePanel\");\n$RefreshReg$(_c2, \"CalendarApp\");","map":{"version":3,"sources":["/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/src/pages/apps/Calendar/index.tsx"],"names":["useEffect","useState","Button","Card","Col","Row","Draggable","classNames","usePageTitle","Calendar","AddEditEvent","defaultEvents","FormInput","SidePanel","externalEvents","id","className","title","map","event","index","toString","CalendarApp","breadCrumbItems","path","label","active","show","setShow","onCloseModal","setEventData","setDateInfo","onOpenModal","isEditable","setIsEditable","events","setEvents","eventData","dateInfo","draggableEl","document","getElementById","itemSelector","onDateClick","arg","onEventClick","String","onDrop","dropEventData","draggedEl","newEvent","length","start","dateStr","Date","attributes","modifiedEvents","push","onAddEvent","data","Object","keys","date","onUpdateEvent","idx","findIndex","e","onRemoveEvent","splice","onEventDrop","end","createNewEvent"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { Button, Card, Col, Row } from 'react-bootstrap';\nimport '@fullcalendar/react';\nimport { DateClickArg, Draggable } from '@fullcalendar/interaction';\nimport { DateInput, EventClickArg, EventDropArg, EventInput } from '@fullcalendar/core';\nimport classNames from 'classnames';\n\n// hooks\nimport { usePageTitle } from '../../../hooks';\n\n// component\nimport Calendar from './Calendar';\nimport AddEditEvent from './AddEditEvent';\n\n// dummy data\nimport { defaultEvents } from './data';\nimport { FormInput } from '../../../components/form';\n\nconst SidePanel = () => {\n    // external events\n    const externalEvents = [\n        {\n            id: 1,\n            className: 'bg-primary',\n            title: 'New Theme Release',\n        },\n        {\n            id: 2,\n            className: 'bg-pink',\n            title: 'My Event',\n        },\n        {\n            id: 3,\n            className: 'bg-warning',\n            title: 'Meet manager',\n        },\n        {\n            id: 4,\n            className: 'bg-purple',\n            title: 'Create New theme',\n        },\n    ];\n\n    return (\n        <>\n            <div id=\"external-events\">\n                <br />\n                <p className=\"text-muted\">Drag and drop your event or click in the calendar</p>\n                {/* external events */}\n                {(externalEvents || []).map((event, index) => {\n                    return (\n                        <div\n                            key={index.toString()}\n                            className={classNames('external-event', event.className)}\n                            title={event.title}\n                            data-class={event.className}\n                        >\n                            <i className=\"mdi mdi-checkbox-blank-circle me-2 vertical-middle\"></i>\n                            {event.title}\n                        </div>\n                    );\n                })}\n            </div>\n            <FormInput type=\"checkbox\" name=\"checkbox\" label=\"Remove after drop\" className=\"my-3\" />\n        </>\n    );\n};\n\nconst CalendarApp = () => {\n    // set pagetitle\n    usePageTitle({\n        title: 'Calendar',\n        breadCrumbItems: [\n            {\n                path: '/apps/calendar',\n                label: 'Apps',\n            },\n            {\n                path: '/apps/calendar',\n                label: 'Calendar',\n                active: true,\n            },\n        ],\n    });\n\n    // modal handling\n    const [show, setShow] = useState<boolean>(false);\n    const onCloseModal = () => {\n        setShow(false);\n        setEventData({});\n        setDateInfo({});\n    };\n    const onOpenModal = () => setShow(true);\n    const [isEditable, setIsEditable] = useState<boolean>(false);\n\n    // event data\n    const [events, setEvents] = useState<EventInput[]>([...defaultEvents]);\n    const [eventData, setEventData] = useState<EventInput>({});\n    const [dateInfo, setDateInfo] = useState<any>({});\n\n    useEffect(() => {\n        // create dragable events\n        let draggableEl = document.getElementById('external-events');\n        new Draggable(draggableEl!, {\n            itemSelector: '.external-event',\n        });\n    }, []);\n\n    // calendar events\n\n    // on date click\n    const onDateClick = (arg: DateClickArg) => {\n        setDateInfo(arg);\n        onOpenModal();\n        setIsEditable(false);\n    };\n\n    // on event click\n    const onEventClick = (arg: EventClickArg) => {\n        const event = {\n            id: String(arg.event.id),\n            title: arg.event.title,\n            className: arg.event.classNames[0],\n        };\n        setEventData(event);\n        setIsEditable(true);\n        onOpenModal();\n    };\n\n    // on drop\n    const onDrop = (arg: any) => {\n        const dropEventData = arg;\n        const title = dropEventData.draggedEl.title;\n        if (title == null) {\n        } else {\n            let newEvent = {\n                id: String(events.length + 1),\n                title: title,\n                start: dropEventData ? dropEventData.dateStr : new Date(),\n                className: dropEventData.draggedEl.attributes['data-class']['value'],\n            };\n            const modifiedEvents = [...events];\n            modifiedEvents.push(newEvent);\n\n            setEvents(modifiedEvents);\n        }\n    };\n\n    // on add event\n    const onAddEvent = (data: any) => {\n        const modifiedEvents = [...events];\n        const event = {\n            id: String(modifiedEvents.length + 1),\n            title: data.title,\n            start: Object.keys(dateInfo).length !== 0 ? dateInfo.date : new Date(),\n            className: data.className,\n        };\n        modifiedEvents.push(event);\n        setEvents(modifiedEvents);\n        onCloseModal();\n    };\n\n    // on update event\n    const onUpdateEvent = (data: any) => {\n        const modifiedEvents = [...events];\n        const idx = modifiedEvents.findIndex((e: any) => e['id'] === eventData!.id);\n        modifiedEvents[idx]['title'] = data.title;\n        modifiedEvents[idx]['className'] = data.className;\n        setEvents(modifiedEvents);\n        onCloseModal();\n        setIsEditable(false);\n    };\n\n    // on remove event\n    const onRemoveEvent = () => {\n        var modifiedEvents = [...events];\n        const idx = modifiedEvents.findIndex((e: any) => e['id'] === eventData!.id);\n        modifiedEvents.splice(idx, 1);\n        setEvents(modifiedEvents);\n        onCloseModal();\n    };\n\n    /**\n     * on event drop\n     */\n    const onEventDrop = (arg: EventDropArg) => {\n        const modifiedEvents = [...events];\n        const idx = modifiedEvents.findIndex((e: any) => e['id'] === arg.event.id);\n        modifiedEvents[idx]['title'] = arg.event.title;\n        modifiedEvents[idx]['className'] = arg.event.classNames;\n        modifiedEvents[idx]['start'] = arg.event.start as DateInput;\n        modifiedEvents[idx]['end'] = arg.event.end as DateInput;\n        setEvents(modifiedEvents);\n        setIsEditable(false);\n    };\n\n    // create new event\n    const createNewEvent = () => {\n        setIsEditable(false);\n        onOpenModal();\n    };\n\n    return (\n        <>\n            <Row>\n                <Col lg={3}>\n                    {/* add events */}\n                    <Button\n                        className=\"btn btn-lg font-16 btn-success w-100\"\n                        id=\"btn-new-event\"\n                        onClick={createNewEvent}\n                    >\n                        <i className=\"fa fa-plus me-1\"></i> Create New\n                    </Button>\n\n                    <SidePanel />\n                </Col>\n                <Col lg={9}>\n                    <Card>\n                        <Card.Body>\n                            {/* fullcalendar control */}\n                            <Calendar\n                                onDateClick={onDateClick}\n                                onEventClick={onEventClick}\n                                onDrop={onDrop}\n                                events={events}\n                                onEventDrop={onEventDrop}\n                            />\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            {/* add new event modal */}\n            {show ? (\n                <AddEditEvent\n                    isOpen={show}\n                    onClose={onCloseModal}\n                    isEditable={isEditable}\n                    eventData={eventData}\n                    onUpdateEvent={onUpdateEvent}\n                    onRemoveEvent={onRemoveEvent}\n                    onAddEvent={onAddEvent}\n                />\n            ) : null}\n        </>\n    );\n};\n\nexport default CalendarApp;\n"]},"metadata":{},"sourceType":"module"}