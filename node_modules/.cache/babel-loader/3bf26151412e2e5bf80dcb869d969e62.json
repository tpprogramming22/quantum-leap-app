{"ast":null,"code":"import _objectSpread from\"/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Link}from'react-router-dom';import Select,{components}from'react-select';import classNames from'classnames';// utils\nimport{groupByFields}from'../../utils';// types\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/*\n * get options\n */var optionGetter=function optionGetter(option){switch(option.type){case'report':return/*#__PURE__*/_jsxs(Link,{to:\"#\",className:classNames('dropdown-item','notify-item','p-0'),children:[/*#__PURE__*/_jsx(\"i\",{className:classNames(option.icon,'me-1')}),/*#__PURE__*/_jsx(\"span\",{children:option.label})]});case'help':return/*#__PURE__*/_jsxs(Link,{to:\"#\",className:classNames('dropdown-item','notify-item','p-0'),children:[/*#__PURE__*/_jsx(\"i\",{className:classNames(option.icon,'me-1')}),/*#__PURE__*/_jsx(\"span\",{children:option.label})]});case'settings':return/*#__PURE__*/_jsxs(Link,{to:\"#\",className:classNames('dropdown-item','notify-item','p-0'),children:[/*#__PURE__*/_jsx(\"i\",{className:classNames(option.icon,'me-1')}),/*#__PURE__*/_jsx(\"span\",{children:option.label})]});case'title':return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-header noti-title p-0\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-overflow mb-2 text-uppercase\",children:\"Users\"})});case'users':return/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"dropdown-item notify-item px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:option.userDetails.avatar,alt:\"\",className:\"d-flex me-2 rounded-circle\",height:\"32\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"drop-username m-0 font-14\",children:[option.userDetails.firstname,\" \",option.userDetails.lastname]}),/*#__PURE__*/_jsx(\"span\",{className:\"user-subinfo font-12 mb-0\",children:option.userDetails.position})]})]})});default:return;}};/*\n * filter options\n */var formateOptions=function formateOptions(options){var grouppedData=groupByFields(options,function(item){return[item.type];});var formattedOptions=[];var count=0;for(var i=0;i<grouppedData.length;i++){for(var j=0;j<grouppedData[i].length;j++){if(grouppedData[i][j].type==='users'&&count===0){grouppedData[i].splice(j,0,{label:'Users',value:'title',type:'title'});count=1;}formattedOptions.push(grouppedData[i][j]);}}return formattedOptions;};/* custon indicator */var IndicatorsContainer=function IndicatorsContainer(props){var handleClick=props.selectProps.handleClick;return/*#__PURE__*/_jsx(\"div\",{style:{},children:/*#__PURE__*/_jsx(components.IndicatorsContainer,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onMouseDown:handleClick,children:/*#__PURE__*/_jsx(\"i\",{className:\"fe-search\"})})}))});};/* custom menu list */var MenuList=function MenuList(props){var options=props.selectProps.options;return/*#__PURE__*/_jsxs(components.MenuList,_objectSpread(_objectSpread({},props),{},{children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-header noti-title\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-overflow mb-2\",children:[\"Found \",options.length<10?('0'+options.length).slice(-2):options.length,\" results\"]})}),props.children]}));};/* fomates the option label */var handleFormatOptionLabel=function handleFormatOptionLabel(option){var formattedOption=optionGetter(option);return/*#__PURE__*/_jsx(\"div\",{children:formattedOption});};var TopbarSearch=function TopbarSearch(_ref){var options=_ref.options;return/*#__PURE__*/_jsx(Select,{components:{IndicatorsContainer:IndicatorsContainer,MenuList:MenuList},placeholder:'Search...',options:formateOptions(options),formatOptionLabel:handleFormatOptionLabel,isOptionDisabled:function isOptionDisabled(option){return option.type==='title';},maxMenuHeight:350,isSearchable:true,isClearable:true,name:\"search-app\",className:\"app-search\",classNamePrefix:\"react-select\"});};export default TopbarSearch;","map":{"version":3,"sources":["/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/src/components/topbar/TopbarSearch.tsx"],"names":["Link","Select","components","classNames","groupByFields","optionGetter","option","type","icon","label","userDetails","avatar","firstname","lastname","position","formateOptions","options","grouppedData","item","formattedOptions","count","i","length","j","splice","value","push","IndicatorsContainer","props","handleClick","selectProps","MenuList","slice","children","handleFormatOptionLabel","formattedOption","TopbarSearch"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport Select, { components } from 'react-select';\nimport classNames from 'classnames';\n\n// utils\nimport { groupByFields } from '../../utils';\n\n// types\nimport { SearchOptions } from '../../layouts/types';\n\ntype TopbarSearchProps = {\n    options: SearchOptions[];\n};\n\n/*\n * get options\n */\nconst optionGetter = (option: SearchOptions) => {\n    switch (option.type) {\n        case 'report':\n            return (\n                <Link to=\"#\" className={classNames('dropdown-item', 'notify-item', 'p-0')}>\n                    <i className={classNames(option.icon, 'me-1')}></i>\n                    <span>{option.label}</span>\n                </Link>\n            );\n        case 'help':\n            return (\n                <Link to=\"#\" className={classNames('dropdown-item', 'notify-item', 'p-0')}>\n                    <i className={classNames(option.icon, 'me-1')}></i>\n                    <span>{option.label}</span>\n                </Link>\n            );\n        case 'settings':\n            return (\n                <Link to=\"#\" className={classNames('dropdown-item', 'notify-item', 'p-0')}>\n                    <i className={classNames(option.icon, 'me-1')}></i>\n                    <span>{option.label}</span>\n                </Link>\n            );\n        case 'title':\n            return (\n                <div className=\"dropdown-header noti-title p-0\">\n                    <h6 className=\"text-overflow mb-2 text-uppercase\">Users</h6>\n                </div>\n            );\n        case 'users':\n            return (\n                <Link to=\"#\" className=\"dropdown-item notify-item px-0\">\n                    <div className=\"d-flex\">\n                        <img\n                            src={option.userDetails!.avatar}\n                            alt=\"\"\n                            className=\"d-flex me-2 rounded-circle\"\n                            height=\"32\"\n                        />\n                        <div>\n                            <h5 className=\"drop-username m-0 font-14\">\n                                {option.userDetails!.firstname} {option.userDetails!.lastname}\n                            </h5>\n                            <span className=\"user-subinfo font-12 mb-0\">{option.userDetails!.position}</span>\n                        </div>\n                    </div>\n                </Link>\n            );\n\n        default:\n            return;\n    }\n};\n\n/*\n * filter options\n */\nconst formateOptions = (options: SearchOptions[]) => {\n    const grouppedData = groupByFields(options, (item: SearchOptions) => {\n        return [item.type];\n    });\n\n    let formattedOptions = [];\n    let count = 0;\n\n    for (let i = 0; i < grouppedData.length; i++) {\n        for (let j = 0; j < grouppedData[i].length; j++) {\n            if (grouppedData[i][j].type === 'users' && count === 0) {\n                grouppedData[i].splice(j, 0, {\n                    label: 'Users',\n                    value: 'title',\n                    type: 'title',\n                });\n                count = 1;\n            }\n            formattedOptions.push(grouppedData[i][j]);\n        }\n    }\n    return formattedOptions;\n};\n\n/* custon indicator */\nconst IndicatorsContainer = (props: any) => {\n    const { handleClick } = props.selectProps;\n    return (\n        <div style={{}}>\n            <components.IndicatorsContainer {...props}>\n                <button className=\"btn\" onMouseDown={handleClick}>\n                    <i className=\"fe-search\"></i>\n                </button>\n            </components.IndicatorsContainer>\n        </div>\n    );\n};\n\n/* custom menu list */\nconst MenuList = (props: any) => {\n    const { options } = props.selectProps;\n\n    return (\n        <components.MenuList {...props}>\n            {/* menu header */}\n            <div className=\"dropdown-header noti-title\">\n                <h5 className=\"text-overflow mb-2\">\n                    Found {options.length < 10 ? ('0' + options.length).slice(-2) : options.length} results\n                </h5>\n            </div>\n            {props.children}\n        </components.MenuList>\n    );\n};\n\n/* fomates the option label */\nconst handleFormatOptionLabel = (option: SearchOptions) => {\n    const formattedOption = optionGetter(option);\n    return <div>{formattedOption}</div>;\n};\n\nconst TopbarSearch = ({ options }: TopbarSearchProps) => {\n    return (\n        <Select\n            components={{ IndicatorsContainer, MenuList }}\n            placeholder={'Search...'}\n            options={formateOptions(options)}\n            formatOptionLabel={handleFormatOptionLabel}\n            isOptionDisabled={(option) => option.type === 'title'}\n            maxMenuHeight={350}\n            isSearchable\n            isClearable\n            name=\"search-app\"\n            className=\"app-search\"\n            classNamePrefix=\"react-select\"\n        />\n    );\n};\n\nexport default TopbarSearch;\n"]},"metadata":{},"sourceType":"module"}