{"ast":null,"code":"import _objectSpread from\"/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// apicore\nimport{APICore}from'../../helpers/api/apiCore';// constants\nimport{AuthActionTypes}from'./constants';var api=new APICore();var INIT_STATE={user:api.getLoggedInUser(),loading:false};var Auth=function Auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case AuthActionTypes.API_RESPONSE_SUCCESS:switch(action.payload.actionType){case AuthActionTypes.LOGIN_USER:{return _objectSpread(_objectSpread({},state),{},{user:action.payload.data,userLoggedIn:true,loading:false});}case AuthActionTypes.SIGNUP_USER:{return _objectSpread(_objectSpread({},state),{},{userSignUp:true,loading:false});}case AuthActionTypes.LOGOUT_USER:{return _objectSpread(_objectSpread({},state),{},{user:null,loading:false,userLogout:true});}case AuthActionTypes.FORGOT_PASSWORD:{return _objectSpread(_objectSpread({},state),{},{resetPasswordSuccess:action.payload.data,loading:false,passwordReset:true});}default:return _objectSpread({},state);}case AuthActionTypes.API_RESPONSE_ERROR:switch(action.payload.actionType){case AuthActionTypes.LOGIN_USER:{return _objectSpread(_objectSpread({},state),{},{error:action.payload.error,userLoggedIn:false,loading:false});}case AuthActionTypes.SIGNUP_USER:{return _objectSpread(_objectSpread({},state),{},{registerError:action.payload.error,userSignUp:false,loading:false});}case AuthActionTypes.FORGOT_PASSWORD:{return _objectSpread(_objectSpread({},state),{},{error:action.payload.error,loading:false,passwordReset:false});}default:return _objectSpread({},state);}case AuthActionTypes.LOGIN_USER:return _objectSpread(_objectSpread({},state),{},{loading:true,userLoggedIn:false});case AuthActionTypes.SIGNUP_USER:return _objectSpread(_objectSpread({},state),{},{loading:true,userSignUp:false});case AuthActionTypes.LOGOUT_USER:return _objectSpread(_objectSpread({},state),{},{loading:true,userLogout:false});case AuthActionTypes.RESET:return _objectSpread(_objectSpread({},state),{},{loading:false,error:false,userSignUp:false,userLoggedIn:false,passwordReset:false,passwordChange:false,resetPasswordSuccess:null});default:return _objectSpread({},state);}};export default Auth;","map":{"version":3,"sources":["/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/src/redux/auth/reducers.ts"],"names":["APICore","AuthActionTypes","api","INIT_STATE","user","getLoggedInUser","loading","Auth","state","action","type","API_RESPONSE_SUCCESS","payload","actionType","LOGIN_USER","data","userLoggedIn","SIGNUP_USER","userSignUp","LOGOUT_USER","userLogout","FORGOT_PASSWORD","resetPasswordSuccess","passwordReset","API_RESPONSE_ERROR","error","registerError","RESET","passwordChange"],"mappings":"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","sourcesContent":["// apicore\nimport { APICore } from '../../helpers/api/apiCore';\n\n// constants\nimport { AuthActionTypes } from './constants';\n\nconst api = new APICore();\n\nconst INIT_STATE = {\n    user: api.getLoggedInUser(),\n    loading: false,\n};\n\ntype UserData = {\n    id: number;\n    email: string;\n    username: string;\n    password: string;\n    firstName: string;\n    lastName: string;\n    role: string;\n    token: string;\n};\n\ntype AuthActionType = {\n    type:\n        | AuthActionTypes.API_RESPONSE_SUCCESS\n        | AuthActionTypes.API_RESPONSE_ERROR\n        | AuthActionTypes.LOGIN_USER\n        | AuthActionTypes.SIGNUP_USER\n        | AuthActionTypes.LOGOUT_USER\n        | AuthActionTypes.RESET;\n    payload: {\n        actionType?: string;\n        data?: UserData | {};\n        error?: string;\n    };\n};\n\ntype State = {\n    user?: UserData | {};\n    loading?: boolean;\n    value?: boolean;\n};\n\nconst Auth = (state: State = INIT_STATE, action: AuthActionType): any => {\n    switch (action.type) {\n        case AuthActionTypes.API_RESPONSE_SUCCESS:\n            switch (action.payload.actionType) {\n                case AuthActionTypes.LOGIN_USER: {\n                    return {\n                        ...state,\n                        user: action.payload.data,\n                        userLoggedIn: true,\n                        loading: false,\n                    };\n                }\n                case AuthActionTypes.SIGNUP_USER: {\n                    return {\n                        ...state,\n                        userSignUp: true,\n                        loading: false,\n                    };\n                }\n                case AuthActionTypes.LOGOUT_USER: {\n                    return {\n                        ...state,\n                        user: null,\n                        loading: false,\n                        userLogout: true,\n                    };\n                }\n                case AuthActionTypes.FORGOT_PASSWORD: {\n                    return {\n                        ...state,\n                        resetPasswordSuccess: action.payload.data,\n                        loading: false,\n                        passwordReset: true,\n                    };\n                }\n                default:\n                    return { ...state };\n            }\n\n        case AuthActionTypes.API_RESPONSE_ERROR:\n            switch (action.payload.actionType) {\n                case AuthActionTypes.LOGIN_USER: {\n                    return {\n                        ...state,\n                        error: action.payload.error,\n                        userLoggedIn: false,\n                        loading: false,\n                    };\n                }\n                case AuthActionTypes.SIGNUP_USER: {\n                    return {\n                        ...state,\n                        registerError: action.payload.error,\n                        userSignUp: false,\n                        loading: false,\n                    };\n                }\n                case AuthActionTypes.FORGOT_PASSWORD: {\n                    return {\n                        ...state,\n                        error: action.payload.error,\n                        loading: false,\n                        passwordReset: false,\n                    };\n                }\n                default:\n                    return { ...state };\n            }\n\n        case AuthActionTypes.LOGIN_USER:\n            return { ...state, loading: true, userLoggedIn: false };\n        case AuthActionTypes.SIGNUP_USER:\n            return { ...state, loading: true, userSignUp: false };\n        case AuthActionTypes.LOGOUT_USER:\n            return { ...state, loading: true, userLogout: false };\n        case AuthActionTypes.RESET:\n            return {\n                ...state,\n                loading: false,\n                error: false,\n                userSignUp: false,\n                userLoggedIn: false,\n                passwordReset: false,\n                passwordChange: false,\n                resetPasswordSuccess: null,\n            };\n        default:\n            return { ...state };\n    }\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}