{"ast":null,"code":"import _slicedToArray from\"/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{Link}from'react-router-dom';import classNames from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var tableProps=_ref.tableProps,sizePerPageList=_ref.sizePerPageList;/**\n     * pagination count , index\n     */var _useState=useState(tableProps.pageCount),_useState2=_slicedToArray(_useState,2),pageCount=_useState2[0],setPageCount=_useState2[1];var _useState3=useState(tableProps.state.pageIndex),_useState4=_slicedToArray(_useState3,2),pageIndex=_useState4[0],setPageIndex=_useState4[1];useEffect(function(){setPageCount(tableProps.pageCount);setPageIndex(tableProps.state.pageIndex);},[tableProps.pageCount,tableProps.state.pageIndex]);/**\n     * get filter pages\n     */var filterPages=useCallback(function(visiblePages,totalPages){return visiblePages.filter(function(page){return page<=pageCount;});},[pageCount]);/**\n     * handle visible pages\n     */var getVisiblePages=useCallback(function(page,total){if(total<7){return filterPages([1,2,3,4,5,6],total);}else{if(page%5>=0&&page>4&&page+2<total){return[1,page-1,page,page+1,total];}else if(page%5>=0&&page>4&&page+2>=total){return[1,total-3,total-2,total-1,total];}else{return[1,2,3,4,5,total];}}},[filterPages]);/**\n     * handle page change\n     * @param page - current page\n     * @returns\n     */var changePage=function changePage(page){var activePage=pageIndex+1;if(page===activePage){return;}var visiblePages=getVisiblePages(page,pageCount);setVisiblePages(filterPages(visiblePages,pageCount));tableProps.gotoPage(page-1);};useEffect(function(){var visiblePages=getVisiblePages(null,pageCount);setVisiblePages(visiblePages);},[pageCount,getVisiblePages]);var _useState5=useState(getVisiblePages(null,pageCount)),_useState6=_slicedToArray(_useState5,2),visiblePages=_useState6[0],setVisiblePages=_useState6[1];var activePage=pageIndex+1;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-lg-flex align-items-center text-center pb-1\",children:[sizePerPageList.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-block me-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"me-1\",children:\"Display :\"}),/*#__PURE__*/_jsx(\"select\",{value:tableProps.state.pageSize,onChange:function onChange(e){tableProps.setPageSize(Number(e.currentTarget.value));},className:\"form-select d-inline-block w-auto\",children:(sizePerPageList||[]).map(function(pageSize,index){return/*#__PURE__*/_jsx(\"option\",{value:pageSize.value,children:pageSize.text},index.toString());})})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[\"Page\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[pageIndex+1,\" of \",tableProps.pageOptions.length]}),' ']}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Go to page : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:pageIndex+1,min:\"1\",onChange:function onChange(e){var page=e.currentTarget.value?Number(e.currentTarget.value)-1:0;tableProps.gotoPage(page);setPageIndex(tableProps.state.pageIndex);},className:\"form-control w-25 ms-1 d-inline-block\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','paginate_button','previous',{disabled:activePage===1}),onClick:function onClick(){if(activePage===1)return;changePage(activePage-1);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-chevron-left\"})})},\"prevpage\"),(visiblePages||[]).map(function(page,index,array){return array[index-1]+1<page?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item disabled d-none d-xl-inline-block\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:\"...\"})}),/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','d-none','d-xl-inline-block',{active:activePage===page}),onClick:function onClick(e){return changePage(page);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:page})})]},page):/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','d-none','d-xl-inline-block',{active:activePage===page}),onClick:function onClick(e){return changePage(page);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:page})},page);}),/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','paginate_button','next',{disabled:activePage===tableProps.pageCount}),onClick:function onClick(){if(activePage===tableProps.pageCount)return;changePage(activePage+1);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-chevron-right\"})})},\"nextpage\")]})]})});};export default Pagination;","map":{"version":3,"sources":["/Users/ted/Downloads/Adminto_React_v1.1/adminto-react/src/components/Pagination.tsx"],"names":["React","useCallback","useEffect","useState","Link","classNames","Pagination","tableProps","sizePerPageList","pageCount","setPageCount","state","pageIndex","setPageIndex","filterPages","visiblePages","totalPages","filter","page","getVisiblePages","total","changePage","activePage","setVisiblePages","gotoPage","length","pageSize","e","setPageSize","Number","currentTarget","value","map","index","text","toString","pageOptions","disabled","array","active"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\n\ntype PaginationProps = {\n    tableProps: any;\n    sizePerPageList: {\n        text: string;\n        value: number;\n    }[];\n};\n\nconst Pagination = ({ tableProps, sizePerPageList }: PaginationProps) => {\n    /**\n     * pagination count , index\n     */\n    const [pageCount, setPageCount] = useState<number>(tableProps.pageCount);\n    const [pageIndex, setPageIndex] = useState<number>(tableProps.state.pageIndex);\n\n    useEffect(() => {\n        setPageCount(tableProps.pageCount);\n        setPageIndex(tableProps.state.pageIndex);\n    }, [tableProps.pageCount, tableProps.state.pageIndex]);\n\n    /**\n     * get filter pages\n     */\n    const filterPages = useCallback(\n        (visiblePages: any, totalPages: number) => {\n            return visiblePages.filter((page: any) => page <= pageCount);\n        },\n        [pageCount]\n    );\n\n    /**\n     * handle visible pages\n     */\n    const getVisiblePages = useCallback(\n        (page: number | null, total: number) => {\n            if (total < 7) {\n                return filterPages([1, 2, 3, 4, 5, 6], total);\n            } else {\n                if (page! % 5 >= 0 && page! > 4 && page! + 2 < total) {\n                    return [1, page! - 1, page!, page! + 1, total];\n                } else if (page! % 5 >= 0 && page! > 4 && page! + 2 >= total) {\n                    return [1, total - 3, total - 2, total - 1, total];\n                } else {\n                    return [1, 2, 3, 4, 5, total];\n                }\n            }\n        },\n        [filterPages]\n    );\n\n    /**\n     * handle page change\n     * @param page - current page\n     * @returns\n     */\n    const changePage = (page: number) => {\n        const activePage = pageIndex + 1;\n\n        if (page === activePage) {\n            return;\n        }\n\n        const visiblePages = getVisiblePages(page, pageCount);\n        setVisiblePages(filterPages(visiblePages, pageCount));\n\n        tableProps.gotoPage(page - 1);\n    };\n\n    useEffect(() => {\n        const visiblePages = getVisiblePages(null, pageCount);\n        setVisiblePages(visiblePages);\n    }, [pageCount, getVisiblePages]);\n\n    const [visiblePages, setVisiblePages] = useState<number[]>(getVisiblePages(null, pageCount));\n    const activePage: number = pageIndex + 1;\n\n    return (\n        <>\n            <div className=\"d-lg-flex align-items-center text-center pb-1\">\n                {sizePerPageList.length > 0 && (\n                    <div className=\"d-inline-block me-3\">\n                        <label className=\"me-1\">Display :</label>\n                        <select\n                            value={tableProps.state.pageSize}\n                            onChange={(e: React.FormEvent<HTMLSelectElement>) => {\n                                tableProps.setPageSize(Number(e.currentTarget.value));\n                            }}\n                            className=\"form-select d-inline-block w-auto\"\n                        >\n                            {(sizePerPageList || []).map((pageSize, index) => {\n                                return (\n                                    <option key={index.toString()} value={pageSize.value}>\n                                        {pageSize.text}\n                                    </option>\n                                );\n                            })}\n                        </select>\n                    </div>\n                )}\n\n                <span className=\"me-3\">\n                    Page{' '}\n                    <strong>\n                        {pageIndex + 1} of {tableProps.pageOptions.length}\n                    </strong>{' '}\n                </span>\n\n                <span className=\"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2\">\n                    <label className=\"form-label\">Go to page : </label>\n                    <input\n                        type=\"number\"\n                        value={pageIndex + 1}\n                        min=\"1\"\n                        onChange={(e: React.FormEvent<HTMLInputElement>) => {\n                            const page = e.currentTarget.value ? Number(e.currentTarget.value) - 1 : 0;\n                            tableProps.gotoPage(page);\n                            setPageIndex(tableProps.state.pageIndex);\n                        }}\n                        className=\"form-control w-25 ms-1 d-inline-block\"\n                    />\n                </span>\n\n                <ul className=\"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0\">\n                    <li\n                        key=\"prevpage\"\n                        className={classNames('page-item', 'paginate_button', 'previous', {\n                            disabled: activePage === 1,\n                        })}\n                        onClick={() => {\n                            if (activePage === 1) return;\n                            changePage(activePage - 1);\n                        }}\n                    >\n                        <Link to=\"#\" className=\"page-link\">\n                            <i className=\"mdi mdi-chevron-left\"></i>\n                        </Link>\n                    </li>\n                    {(visiblePages || []).map((page, index, array) => {\n                        return array[index - 1] + 1 < page ? (\n                            <React.Fragment key={page}>\n                                <li className=\"page-item disabled d-none d-xl-inline-block\">\n                                    <Link to=\"#\" className=\"page-link\">\n                                        ...\n                                    </Link>\n                                </li>\n                                <li\n                                    className={classNames('page-item', 'd-none', 'd-xl-inline-block', {\n                                        active: activePage === page,\n                                    })}\n                                    onClick={(e: React.FormEvent<HTMLLIElement>) => changePage(page)}\n                                >\n                                    <Link to=\"#\" className=\"page-link\">\n                                        {page}\n                                    </Link>\n                                </li>\n                            </React.Fragment>\n                        ) : (\n                            <li\n                                key={page}\n                                className={classNames('page-item', 'd-none', 'd-xl-inline-block', {\n                                    active: activePage === page,\n                                })}\n                                onClick={(e: React.FormEvent<HTMLLIElement>) => changePage(page)}\n                            >\n                                <Link to=\"#\" className=\"page-link\">\n                                    {page}\n                                </Link>\n                            </li>\n                        );\n                    })}\n                    <li\n                        key=\"nextpage\"\n                        className={classNames('page-item', 'paginate_button', 'next', {\n                            disabled: activePage === tableProps.pageCount,\n                        })}\n                        onClick={() => {\n                            if (activePage === tableProps.pageCount) return;\n                            changePage(activePage + 1);\n                        }}\n                    >\n                        <Link to=\"#\" className=\"page-link\">\n                            <i className=\"mdi mdi-chevron-right\"></i>\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        </>\n    );\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}